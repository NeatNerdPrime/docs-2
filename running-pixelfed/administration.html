<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Administration | Pixelfed Documentation</title>
    <meta name="description" content="Documentation for pixelfed">
    
    
    <link rel="preload" href="/assets/css/0.styles.33d1fe29.css" as="style"><link rel="preload" href="/assets/js/app.9d4b99c1.js" as="script"><link rel="preload" href="/assets/js/16.f1dcdcdc.js" as="script"><link rel="prefetch" href="/assets/js/10.012ded27.js"><link rel="prefetch" href="/assets/js/2.cda51ec0.js"><link rel="prefetch" href="/assets/js/3.ac8b3d85.js"><link rel="prefetch" href="/assets/js/4.cff27448.js"><link rel="prefetch" href="/assets/js/5.18abe724.js"><link rel="prefetch" href="/assets/js/6.7bbb09d3.js"><link rel="prefetch" href="/assets/js/7.7521b031.js"><link rel="prefetch" href="/assets/js/8.064314d5.js"><link rel="prefetch" href="/assets/js/9.b01e1f07.js"><link rel="prefetch" href="/assets/js/11.9fa28869.js"><link rel="prefetch" href="/assets/js/12.a5665b00.js"><link rel="prefetch" href="/assets/js/13.64b5d18c.js"><link rel="prefetch" href="/assets/js/14.1319e319.js"><link rel="prefetch" href="/assets/js/15.283701f1.js"><link rel="prefetch" href="/assets/js/17.00f77b57.js"><link rel="prefetch" href="/assets/js/18.e18cf17f.js"><link rel="prefetch" href="/assets/js/19.03870e5b.js"><link rel="prefetch" href="/assets/js/20.f3bbac4e.js"><link rel="prefetch" href="/assets/js/21.2aaa5bc8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.33d1fe29.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://avatars0.githubusercontent.com/u/38410642?s=200&amp;v=4" alt="Pixelfed Documentation" class="logo"> <span class="site-name can-hide">Pixelfed Documentation</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://pixelfed.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  pixelfed.org
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/pixelfed/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://pixelfed.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  pixelfed.org
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/pixelfed/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>Installation</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/installing-pixelfed/prerequisites.html" class="sidebar-link">Prerequisites</a></li><li><a href="/installing-pixelfed/installation.html" class="sidebar-link">Installation</a></li><li><a href="/installing-pixelfed/configuring-mail.html" class="sidebar-link">Configuring Mail</a></li><li><a href="/installing-pixelfed/configuring-queue.html" class="sidebar-link">Configuring Job Queue</a></li><li><a href="/installing-pixelfed/configuring-scheduler.html" class="sidebar-link">Configuring Scheduler</a></li><li><a href="/installing-pixelfed/postinstall.html" class="sidebar-link">Post-Installation</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>Admin Guide</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/running-pixelfed/administration.html" class="active sidebar-link">Administration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/running-pixelfed/administration.html#updating-pixelfed" class="sidebar-link">Updating Pixelfed</a></li><li class="sidebar-sub-header"><a href="/running-pixelfed/administration.html#admin-user" class="sidebar-link">Admin user</a></li><li class="sidebar-sub-header"><a href="/running-pixelfed/administration.html#delete-a-user" class="sidebar-link">Delete a user</a></li><li class="sidebar-sub-header"><a href="/running-pixelfed/administration.html#fix-accounts-with-reserved-names" class="sidebar-link">Fix accounts with reserved names</a></li><li class="sidebar-sub-header"><a href="/running-pixelfed/administration.html#remove-unused-media" class="sidebar-link">Remove unused Media</a></li></ul></li><li><a href="/running-pixelfed/troubleshooting.html" class="sidebar-link">Troubleshooting</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Technical documentation</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/technical-documentation/api-v1.html" class="sidebar-link">v1 API</a></li><li><a href="/technical-documentation/artisan.html" class="sidebar-link">Laravel Artisan</a></li><li><a href="/technical-documentation/env.html" class="sidebar-link">Configuration</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Distro-specific Guides</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="administration"><a href="#administration" aria-hidden="true" class="header-anchor">#</a> Administration</h1> <p></p><div class="table-of-contents"><ul><li><a href="#updating-pixelfed">Updating Pixelfed</a></li><li><a href="#admin-user">Admin user</a></li><li><a href="#delete-a-user">Delete a user</a></li><li><a href="#fix-accounts-with-reserved-names">Fix accounts with reserved names</a></li><li><a href="#remove-unused-media">Remove unused Media</a></li></ul></div><p></p> <h2 id="updating-pixelfed"><a href="#updating-pixelfed" aria-hidden="true" class="header-anchor">#</a> Updating Pixelfed</h2> <p>After you have installed Pixelfed, you may update to the latest commits by pulling the dev branch and doing necessary updates/migration/caching:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> pull origin dev
$ composer <span class="token function">install</span>
$ php artisan config:cache
$ php artisan route:cache
$ php artisan migrate --force
</code></pre></div><h2 id="admin-user"><a href="#admin-user" aria-hidden="true" class="header-anchor">#</a> Admin user</h2> <p>You can give a user the admin role with the following command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ php artisan user:admin username_here
</code></pre></div><p>Or you can do this with the tinker REPL:</p> <div class="language- extra-class"><pre class="language-text"><code>$ php artisan tinker

&gt;&gt;&gt; $username = 'username_here';

&gt;&gt;&gt; $user = User::whereUsername($username)-&gt;firstOrFail();

&gt;&gt;&gt; $user-&gt;is_admin = true;

&gt;&gt;&gt; $user-&gt;save();
</code></pre></div><h2 id="delete-a-user"><a href="#delete-a-user" aria-hidden="true" class="header-anchor">#</a> Delete a user</h2> <p>Delete a user account with the following command:</p> <div class="language- extra-class"><pre class="language-text"><code>php artisan user:delete username_here
</code></pre></div><h2 id="fix-accounts-with-reserved-names"><a href="#fix-accounts-with-reserved-names" aria-hidden="true" class="header-anchor">#</a> Fix accounts with reserved names</h2> <p>You can run this command to fix accounts created before that username was reserved.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ php artisan fix:usernames
</code></pre></div><h2 id="remove-unused-media"><a href="#remove-unused-media" aria-hidden="true" class="header-anchor">#</a> Remove unused Media</h2> <p>With this command you can trigger the garbage collection on the media files. This frees up disk space. All files being older than one hour and which are not used in any status are removed.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ php artisan media:gc
</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/pixelfed/docs/edit/master/running-pixelfed/administration.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/installing-pixelfed/postinstall.html" class="prev">
          Post-Installation
        </a></span> <span class="next"><a href="/running-pixelfed/troubleshooting.html">
          Troubleshooting
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/16.f1dcdcdc.js" defer></script><script src="/assets/js/app.9d4b99c1.js" defer></script>
  </body>
</html>
